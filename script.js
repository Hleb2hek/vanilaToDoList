'use strict'

const toDoList = {
	list: [],
	// –°–æ–∑–¥–∞—ë–º –º–µ—Ç–æ–¥, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–∑–¥–∞—ë—Ç —Ç–∞—Å–∫–∏
	// –ø–µ—Ä–µ–¥–∞—ë–º –∑–∞–≥–∞–ª–æ–≤–æ–∫ –∏ —Ç–µ–∫—Å—Ç
	// –≤ –º–µ—Ç–æ–¥–µ —Å–æ–∑–¥–∞—ë–º –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–±—ä–µ–∫—Ç –≤ –∫–æ—Ç–æ—Ä—É—é
	// –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –ø–∞—Ä–∞–º—Ç–µ—Ä—ã –º–µ—Ç–æ–¥–∞
	// –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –≤ –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ –Ω–æ–≤—ã–µ –æ–±—ä–µ–∫—Ç—ã
	createTask(title,text){
		// –ü—Ä–æ–≤–µ—Ä—è–µ–º –µ—Å–ª–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ —É–∂–µ –µ—Å—Ç—å, —Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º true
		// –î–∞–ª—å—à–µ –≤—ã–≤–æ–¥–∏–º —Å–æ–æ–±—â–µ–Ω–∏–µ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º null
		if (this.list.some((list) => list.title === title)) {
			console.log(`–ó–∞–¥–∞—á–∞ —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º "${title}" —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç.`);
			return null
		}

		const newTask = {
			id: Math.random().toString(10).slice(2, 9),
			title,
			text,
			status: false,
		};
		// –ü—É—à–∏–º –≤ –º–∞—Å—Å–∏–≤ —Ç–∞—Å–∫—É
		this.list.push(newTask)
		// –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Ç–∞—Å–∫—É
		return newTask
	},
	// –ú–µ—Ç–æ–¥ —É–¥–∞–ª–µ–Ω–∏–µ —Ç–∞—Å–∫–∏ —á–µ—Ä–µ–∑ –∑–∞–≥–∞–ª–æ–≤–æ–∫
	// –ø–µ—Ä–µ–ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ–º –º–∞—Å—Å–∏–≤ —Å –æ–±—ä–µ–∫—Ç–∞–º–∏
	// –≥–¥–µ –¥–æ –º–æ–º–µ–Ω—Ç–∞ –ø–µ—Ä–µ–ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏—è –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤—ã–≤–∞–µ–º –∏
	// —Å–æ–∑–¥–∞—ë–º –Ω–æ–≤—ã–π –º–∞—Å—Å–∏–≤ —Å –æ–±—ä–µ–∫—Ç–∞–º–∏ –∫—Ä–æ–º–µ –æ–±—ä–µ–∫—Ç–∞,
	// –∫–æ—Ç–æ—Ä—ã–π –Ω–µ —Ä–∞–≤–µ–Ω –æ—Å—Ç–∞–ª—å–Ω—ã–º –∑–∞–≥–æ–ª–æ–≤–∫–∞–º –º–∞—Å—Å–∏–≤–∞
	deleteTaskById(id) {
		const findId = this.list.findIndex((list) => list.id === id)

		// –ï—Å–ª–∏ –¥–ª–∏–Ω–Ω–∞—è –Ω–∞–π–¥–µ–Ω–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç
		// —Ç–æ –ø–æ —É—Å–ª–æ–≤–∏—é –±—É–¥–µ—Ç true –≤–µ—Ä–Ω—ë—Ç 
		// —Å–æ–æ–±—â–µ–Ω–∏–µ –∏ false
		if (findId === -1 ) {
			console.log(`–ó–∞–¥–∞—á–∞ —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º "${title}" –Ω–µ –Ω–∞–π–¥–µ–Ω–∞.`);
			return false
		}

		// –£–¥–∞–ª—è–µ–º —á–µ—Ä–µ–∑ –º–µ—Ç–æ–¥ splice –æ–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—É—é –∑–∞–¥–∞—á—É —Å –æ–±—ä–µ–∫—Ç–æ–º
		this.list.splice(findId,1);
		console.log(`–ó–∞–¥–∞—á–∞ —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º "${title}" —É–¥–∞–ª–µ–Ω–∞.`);
		return true
	},
	
	// –î–≤–∞ –º–µ—Ç–æ–¥–∞ –Ω–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ–≥–æ –∏–ª–∏ –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è
	getReadyTask(title) {
		const task = this.list.find(list => list.title === title);
		// –ï—Å–ª–∏ —Ç–∞—Å–∫–∏ –Ω–µ—Ç, —Ç–æ –≤–µ—Ä–Ω—ë—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –∏ false
		if(!task){
			console.log(`–ó–∞–¥–∞—á–∞ —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º "${title}" –Ω–µ –Ω–∞–π–¥–µ–Ω–∞.`);
			return false
		}
		// –ø–µ—Ä–µ–Ω–∞–∑–Ω–∞—á–∞–µ–º –ø–µ—Ä–µ–º—É–Ω–Ω—É—é –Ω–∞ true, –≤—ã–Ω–æ—Å–∏–º
		// —Å–æ–æ–±—â–µ–Ω–∏–µ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º true
		task.status = true;
		console.log(`‚úÖ –ó–∞–¥–∞—á–∞ "${title}" –æ—Ç–º–µ—á–µ–Ω–∞ –∫–∞–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–∞—è.`);
		return true
	},
	getDeleteTask(title) {
		const task = this.list.find(list => list.title === id);
		if(!task){
			console.log(`–ó–∞–¥–∞—á–∞ —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º "${title}" –Ω–µ –Ω–∞–π–¥–µ–Ω–∞.`);
			return false
		}
		// –í—Å—ë —Ç–æ –∂–µ —Å–∞–º–æ–µ, –Ω–æ –ø–µ—Ä–µ–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –Ω–∞ false
		task.status = false;
		console.log(`‚ùå –ó–∞–¥–∞—á–∞ "${title}" —Ç–µ–ø–µ—Ä—å –Ω–µ –æ—Ç–º–µ—á–µ–Ω–∞ –∫–∞–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–∞—è.`);
		return true
	},
	// –ú–µ—Ç–æ–¥ –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ç–µ–∫—É—â–∏—Ö –∑–∞–ø–∏—Å–µ–π
	getChangeTask(title,newTitle,newText) {
		// –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ–º –Ω–æ–≤–æ–π –ø–µ–µ—Ä–º–µ–Ω–Ω–æ–π –Ω–∞–π–¥–µ–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç
		const task = this.list.find(list => list.title === title)
		// –µ—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω, —Ç–æ false
		if (!task) {
			console.log(`–ó–∞–¥–∞—á–∞ —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º "${title}" –Ω–µ –Ω–∞–π–¥–µ–Ω–∞.`);
			return false
		}
		// –ø–µ—Ä–µ–ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ–º –Ω–∞–π–¥–µ–Ω–Ω–æ–º—É –æ–±—ä–µ–∫—Ç—É –Ω–æ–≤—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∏ —Ç–µ–∫—Å—Ç
		if (newTitle !== undefined) {
			task.title = newTitle;
		}
		if (newText !== undefined) {
			task.text = newText;
		}

		console.log(`–¢–µ–∫—Å—Ç –∑–∞–¥–∞—á–∏ "${title}" –∏–∑–º–µ–Ω—ë–Ω.`);
		return true
	},
	// –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø–∏—Å–æ–∫
	getTasks() {
		// –í–µ—Ä–Ω—ë—Ç —Ä–∞–∑–≤—ë—Ä–Ω—É—Ç—ã–π —Å–ø–∏—Å–æ–∫ –≥–¥–µ
		return this.list.map(list => {
			// –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –≤ –∫–æ—Ç–æ—Ä–æ–π –ø—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å–ª–∏ list.status –∏–º–µ–µ—Ç false, –≤–µ—Ä–Ω—ë—Ç
			// '‚ùå –ù–µ —Å–¥–µ–ª–∞–Ω–æ', –µ—Å–ª–∏ true '‚úÖ –°–¥–µ–ª–∞–Ω–æ'
			const status = list.status ? '‚úÖ –°–¥–µ–ª–∞–Ω–æ' : '‚ùå –ù–µ —Å–¥–µ–ª–∞–Ω–æ';
			// –≤–µ—Ä–Ω—ë—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ —Å —Ç–∞—Å–∫–æ–π: —Ç–µ–∫—Å—Ç –∫ —Ç–∞—Å–∫–µ - —Å—Ç–∞—Ç—É—Å —Ç–∞—Å–∫–∏
			return `üìå ID:${list.id}. ${list.title}: ${list.text} - ${status}`;
		})
	},
	// –£–¥–∞–ª–∏—Ç—å —Å–ø–∏—Å–æ–∫ 
	clearTasks() {
		this.list = [];
		console.log("–í—Å–µ –∑–∞–¥–∞—á–∏ —É–¥–∞–ª–µ–Ω—ã.");
	}
}

toDoList.createTask('–°–¥–µ–ª–∞—Ç—å –∑–∞—Ä—è–¥–∫—É', '15 –º–∏–Ω—É—Ç –∫–∞—Ä–¥–∏–æ + —Ä–∞—Å—Ç—è–∂–∫–∞');
toDoList.createTask('–ù–∞–ø–∏—Å–∞—Ç—å –∫–æ–¥', '–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥ —É–¥–∞–ª–µ–Ω–∏—è –≤ —Ç—É–¥—É–ª–∏—Å—Ç–µ');
toDoList.createTask('–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —É—Ä–æ–∫ –ø–æ JS', '–†–∞–∑–æ–±—Ä–∞—Ç—å –º–µ—Ç–æ–¥—ã –º–∞—Å—Å–∏–≤–æ–≤');
toDoList.createTask('–ü–æ–∑–≤–æ–Ω–∏—Ç—å –¥—Ä—É–≥—É', '–û–±—Å—É–¥–∏—Ç—å –≤—Å—Ç—Ä–µ—á—É –Ω–∞ –≤—ã—Ö–æ–¥–Ω—ã—Ö');
toDoList.createTask('–ü—Ä–æ—á–∏—Ç–∞—Ç—å –∫–Ω–∏–≥—É', '–ü—Ä–æ—á–∏—Ç–∞—Ç—å —Ö–æ—Ç—è –±—ã 20 —Å—Ç—Ä–∞–Ω–∏—Ü');
toDoList.createTask('–°–¥–µ–ª–∞—Ç—å —É–±–æ—Ä–∫—É', '–ü—Ä–æ–ø—ã–ª–µ—Å–æ—Å–∏—Ç—å, –ø–æ–º—ã—Ç—å –ø–æ–ª—ã, –≤—ã—Ç–µ—Ä–µ—Ç—å –ø—ã–ª—å');
toDoList.createTask('–ü—Ä–∏–≥–æ—Ç–æ–≤–∏—Ç—å –æ–±–µ–¥', '–°–≤–∞—Ä–∏—Ç—å —Å—É–ø, —Å–¥–µ–ª–∞—Ç—å —Å–∞–ª–∞—Ç');
toDoList.createTask('–†–∞–∑–æ–±—Ä–∞—Ç—å –ø–æ—á—Ç—É', '–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Ö–æ–¥—è—â–∏–µ –∏ —É–¥–∞–ª–∏—Ç—å –Ω–µ–Ω—É–∂–Ω—ã–µ –ø–∏—Å—å–º–∞');
toDoList.createTask('–ü—Ä–æ–≥—É–ª—è—Ç—å—Å—è', '–ú–∏–Ω–∏–º—É–º 30 –º–∏–Ω—É—Ç –Ω–∞ —Å–≤–µ–∂–µ–º –≤–æ–∑–¥—É—Ö–µ');
toDoList.createTask('–ü–æ–π—Ç–∏ –Ω–∞ —Ä–∞–±–æ—Ç—É', '–û—Ç–ø–∞—Ö–∞—Ç—å 12 —á–∞—Å–æ–≤')
toDoList.getReadyTask('–ü–æ–π—Ç–∏ –Ω–∞ —Ä–∞–±–æ—Ç—É')


console.log(toDoList.getTasks());


